## SW개발 보안 설계
1. 관리적 정책(ISMS,PIMS) / 기술적 정책(암호화, 접근통제, 데이터 백업)
2. 정보보안의 3요소: 
- 기밀성(Confiejntiality): 인가된 사용자만 정보에 접근할 수 있다.(방화벽, 암호)
- 무결성(Integrity) : 적절한 권한을 가진 사용자가 인가된 방법으로만 정보를 변경할 수 있도록 접근통제 한다. 인가된 사용자만 수정할 수 있어야 한다.
- 가용성(Availability): 원하는 시점에 언제든 정보 자산에 접근이 가능하도록 한다. 고가용성.
- 인증(Authentication) : 접속한 사용자가 허가받은 사용자인지 확인하는 것
- 부인방지(Non-Repudiation): 정보를 보낸 사람이 나중에 정보를 보냈다는 것을 부인하지 못하도록 하는 것

3. **AAA**
  - 인증(Authentication) :  접속한 사용자가 허가받은 사용자인지 검증(로그인 절차)
  - 인가(Authorization) : 권한부여/ 검증된 사용자에게 어떤 수준의 권한과 서비스를 주는 것
  - 계정관리(Accounting) : 사용자의 자원에 대한 사용 정보를 모아서 과금, 감사, 용량 증설, 리포팅을 함.

4. 정보보안 거버넌스(information security govermance) : 정보의 무결성, 서비스의 연속성, 정보자산의 보호를 위한 것. (기업>IT>정보보안)
5. 정보보안 거버넌스의 3요소: 정보자산의 보호(기밀성)데이터의 무결성, 서비스 연속성(가용성)
6. 인증제도
  - ISMS(정보보호 관리체계 인증) : 회사에서 정보보안 잘 하고 있는지 인증해주는 것
  - PIMS(개인정보보호 관리체계): 개인정보 관련해서 잘 지키고 있는지 인증해주는 것.
  - ISMS-P(정보보호 및 개인정보보호 관리체계 인증): 정보보호, 개인정보보호 인증기준에 적합하면 인증기관이 증명해준다.
  - ITSEC: 유럽(네덜란드 주축)에서 만든 고유의 보안성 평가기준서 개발, 기밀성/무결성/가용성 다룸.
  - TCSEC: 미국에서 만든 신뢰성 있는 컴퓨터 시스템 평가기준
  - CC: 국가마다 다른 평가기준을 연동시켜 평가결과를 상호인증하기 위한 국제평가기준(CCSEC, ITSEC 단점 보완), common criteria



7. Secure SDLC
- 보안상 안전한 소프트웨어를 개발하기 위해 SDLC에 보안강화를 위한 프로세스를 포함한 것
  - Secure SDLC 방법론
    * CLASP: SDLC의 **초기단계**에서 보안을 강화하기 위해 개발된 방법론, 현재 운용중인 시스템에 적용하기 적합하다.
    * MS-SDL: **MS사**에서 만든 안전한 소프트웨어 개발을 위해 기존의 SDLC 보안
    * Seven Touchpoints: 소프트웨어 보안의 **모범사례**를 SDLC에 통합한 방법론.
   

8. 시큐어코딩(Secure Coding)
- OWASP : 오픈소스 웹 어플리케이션 보안 프로젝트 연구 단체 (10대 취약점: owasp top10)
- KISA : 시큐어코딩 가이드 -> 시큐어 코딩


9. 시큐어코딩 가이드(입보시에코캡아...) KISA / 종류 체크하기
- 입력데이터 검증 및 표현
- 보안 약점 종류: SQL Injection, XSS(크로스 사이트 스크립트), 자원 삽입, 위험한 형식 파일 업로드, 메모리 버퍼 오버플로
- 보안기능: 적절한 인증없이 중요기능 허용, 부적절한 인가, 취약한 암호화 알고리즘 사용(DES,MD5), 하드코딩된 패스워드, 패스우드 평문 저장, 취약한 패스워드
- 시간 및 상태: 시간및 상태의 부적절한 관리 / 경쟁조건, 종료되지 않는 반복문, 재귀함수
- 에러 처리: 오류메시지 정보 노출, 오류상황 대응 부재, 부적절한 예외처리
- 코드 오류: 개발자 코드 실수! 널포인터 역참조, 부적절한 자원 해제, 해제된 자원 사용, 초기화되지 않은 변수 사용
- 캡슐화: 불충분한 캡슐화! 잘못된 세션에 의한 정보 노출, 제거되지 않은 디버그 코드, 시스템 정보 노출, 잘못된 접근 지정자
- API 오용: DNS에 의존한 보안 결정, 취약한 API 사용


10. 복구
  - 복구시간 목표(RTO)와 복구시점목표(RPO)를 충족하기 위한 다양한 방법이 있다.
  - 재난 복구 전략시 지표
     - RP(Recovery Period) : 실제 업무 기능까지 복구까지 걸린 시간
     - RTO(Recovery time objective) : 재난복구 지표, 몇 시간동안 장애를 허용할 것인가
     - RPO(Recovery point objective): 데이터 손실을 감당할 수 있는 데이터의 양
     - MTD(Maximum tolerable downtime): 비즈니스 연솏어 관리에서 사용되는 지표, 장애시 업무가 정지상태를 허용하는 최대 시간


11. 백업전략
  - 풀/이미지 백업: 데이터의 풀 이미지를 백업하여 즉각적으로 이용할 수 있는 복구시점 생성(오래 걸림)
  - 차등백업: 마지막 풀백업 이후부터 발생한 모든 변경사항 백업
  - 증분백업: 마지막 풀백업 복구시점 이후부터 변경된 사항을 점차적으로 백업
  - 실시간 백업: 지속적인 백업, 모든 변경사항을 복사
  - 합성 백업: 기존 백업본과 증분 백업을 합해서 새로운 전체 백업을 다시 만든다.


## 암호 알고리즘

단방향 : 비밀번호 같은 거 사용. 복호화 시킬 수 없음. 해시함수.
양방향 : 암호화 <> 복호화
- 대칭키 암호화: 두개의 키가 똑같음. 많은 양을 암호화 시키고 속도가 빠름. 두개의 키가 똑같기 때문에 키를 같이 전달해야함. 
- 비대칭키 암호화: 두개의 키가 다름. 적은 양을 암호화 시키고 속도가 느림.
  - 개인기
  - 공개키 


1. 대칭키 암호: 암호화와 복호화의 키가 동일한 암호 시스템 키의 개수는 n(n-1)/2
  - 블록암호 알고리즘: DES, 3-DES, AES, SEED, ARIA, IDEA, SKIPJACK
  * DES : 64비트, 56비트 암호화 키 사용, 페이스텔 암호방식 사용, 16라운드 반복
  * AES : 128비트 평문을 128/192/256비트로 암호화. SPN 암호방식 사용
  * SEED :순수 국내기술, 128비트 및 256비트 대칭 키 블록의 암호 알고리즘
  * ARIA : 국가보안기술연구소 필두, 국가 암호화 알고리즘, 128/192/256비트 암호화키 지원
  * IDEA : 스위스, PES개량, 128비트, 블록길이가 64비트, 8라운드, 페이스텔+SPN 중간형태 구조
  * SKIPJACK: 미국에서 ㄱ배ㅏㄹ. 
  - 스트림암호 알고리즘: LFSR(경량 및 고속동작), RC4(로널드 라이베스트), A5(GSM휴대폰 체계에 사용)
  - 

2. 비대칭키 암호
  - 소인수 분해 기반 : RSA, Robin
  - 이산대수 기반: 디프헬만,DSA, ELGamal, KSDSA
  - 타원곡선: ECC(타원곡선+이산대수)
  - 전자서명: 인터넷에서 특정 사용자를 인증하기 위한 목적으로 사용

3. 단방향 암호화(무결성 관련)
  - 해시 이용해서 한쪽 방향으로만 암호화 하는 과정, 복호화 불가능
  - 해시 함수 특성
   * 역상 저항성: 해시 값을 생성하는 입력값을 알아내기 불가능하다는 특성
   * 제 2역상 저항성: 어떤 입력값과 동일한 해시값을 가지는 다른 입력 값을 찾을 수 없어야 한다는 특성
   * 충돌 저항성 : 해시값이 같은 두 개 값을 찾을 수 없다는 특성
  - MD5: MD4대체, 128비트, 
  - SHA: 미국 국가안보국이 설계
  - HAS-160: KCDSA에 사용

4. 암호학적 해시 함수의 결점
  - 무차별 대입공격
    * 키 스트레칭: 무차별 대입공격 방지
  - 레인보우 테이블 공격
    * 솔팅: 데이터/앞 뒤에 임의의 값을 넣어 해시값을 막고 레인보우 테이블 공격을 방지

5. 전자우편 보안
- 전자우편에 대한 보안 위협 요소
- 암호화 프로토콜: PGP(IDEA+RSA 조합, 전자우편 암호화, 암호해석, 키링), PEM(특정키 있어야 내용볼 수 있음), S/MIME(첨부물에 대한 보안이 목적, RSA 암호시스템 이용, MIME에 전자서명과 암호화를 더함), DKIM(메일발신자가 발신정보 위장할수 없는 기술표준)

6. 코드의 유형
  - 순차코드(Sequence Code): 일정한 순서에 의해 일련번호를 부여하는 코드(교실 내 학생 번호)
  - 블록코드: 시/군/구 처럼 공통 특징을 중심으로 항목을 별도의 집단으로 분류, 코듭 ㅜ여
  - 10진 코드
  - 그룹 분류 코드: 대/중/소분류에 따라 순서적으로 코드 부여
  - **연상 코드**: tv_2021_04 > 코드 대상의 명칭과 관계있는 문자,숫자,약어 사용
  - **표의 숫자코드**: 중량,면적,용량 등의 물리적 수치 이용
  - 합성코드: 두개이상의 코드 조합


7. 코드 오류의 유형
  - 생략오류(omission error): 한자리 빼고 기록
  - 필사오류(transcription error): 한자리 잘못 기록
  - 전위오류(transpositiron): 좌우 자리 바꿔서 기록
  - 이중오류: 전위오류가 두가지 이상 발생
  - 추가오류: 입력시 한자리 추가로 기록
  - 임의오류: 위의 오류가 두가지 이상 결합한 경우


## 인증과 접근통제
1. 인증
- 지식기반 인증: 내가 가진 정보, 아이디, 패스워드
- 소유기반 인증: 소유한 것 기반으로 인증, 신분증, otp
- 생체 기반 인증: 지문, 홍채, 신체/행동 기반
- 행위기반 인증: 서명, 동작, 사용자의 행동정보 이용
- 위치기반 인증 : GPS,IP주소 등, 인증 시도 위치 기반

2. 인가


3. 인증방식
- 계정 정보를 요청 헤더에 넣는 방식
- 쿠키/세션 방식: 세션 기반인증을 위해 세션과 쿠키가 사용됨.
- 토큰기반 인증방식(JWT, JSON Web Token): 인증을 위해 사용되는 암호화된 문자열을 이용한다.
- SSO(Single Sign-On): 하나의 로그인 인증 정보를 사용해 여러 애플리케이션을 접근할 수 있는 인증 서비스
- 커버로스: 개방된 네트워크 내에서 서비스 요구를 인증하기 위한 안전한 방법, Kerveros
- 아이핀: 개인정보 유출시 피해를 최소화하고자 하는 주민번호 대체 인증수단


4. 접근통제정책
- 정당한 사용자에게는 권한을 부여하고 그 외의 다른 사용자는 거부하는 것
1) 강제적 접근통제(MAC, Mandatory access control)
  - 자원의 보안 레벨과 사용자의 보안 취급인자를 비교하여 제어, 기밀성 강조
  - 권한부여: 시스템
  - 보안등급
 2) 임의적 접근통제(DAC)
  - 자원의 소유권을 가진 사람이 다른 사람의 접근을 허용하거나 제한
  - 신분
  - 권한부여: 데이터 소유자
 3) 역할기반 접근통제(RBAC, Role based access control)
 - 사용자의 역할에 기반을 두고 접근을 통제하는 모델
 - 역할
 - 권한부여: 중앙관리자

5. 접근통제 모델
1) **벨-라파둘라 모델(BLP)** : 미 국방부 지원 모델, 기밀성 강조, 군대에서 사용, 정보가 높은 레벨에서 낮은 레펠로 퍼지는 것을 방지, NO READ UP, NO WRTIE DOWN
2) **비바모델**: 무결성 강조, 비인가자의 데이터 수정방지 기능, NO READ DOWN, NO WRITE UP
3) 클락윌슨모델: 무결성 위주의 상업용 모델
4) 만리장성 모델: **충돌**을 야기하는 어떠한 정보의 흐름도 차단해야 한다는 모델로 이익충돌 회피모델


## 시스템 보안 구현
1. 취약점 분석
    - 보안 취약점점 점검 분류 : 관리적 관점, 기술적 관점, 물리적 관점
  
2. 보안관제 : 24시간 정보자산을 지키기 위해 모니터링 하고 외부 공격자가 전달하는 패킷 관측. 침해사고 시 CERT팀이 대응함.
3. 통합로그 분석 장비
   -   ESM : 단기 이벤트성 위주 분석, 다양한 장비에서 발생하는 로그 및 보안 이벤트를 통합 관리하는 보안 솔루션
   -   SOAR : 보안 오케스트레이션, 자동화 및 대응
   -   SIEM : ESM의 진화형태, **빅데이터** 수준의 데이터를 장시간 심층분석한 인덱싱 기반
4. 보안 운영체제(Secure-OS) : 기존 운영체제에 보안기능을 추가한 운영체제, 안정성/신뢰성/보안성
5. 보안 솔루션
    - 방화벽 : 침입차단 시스템
    - 웹 방화벽: 웹 서버 특화 방화벽
    - 침입탐지시스템(IDS) : 컴퓨터 시스템의 비정상적인 사용, 오용, 남용 등을 실시간으로 탐지하는 시스템
        * 오용탐지 : 미리 입력해둔 공격 패턴이 감지되면 이를 알려줌.
        * 이상탐지 : 평균 시스템 상태 기준으로 비정상적인 행위나 자원의 사용이 감지되면 알려줌
    - 침입탐지 대상에 따른 분류
        * 네트워크 기반 IDS(NIDS) : 네트워크 패킷 분석하여 침입 탐지
        * 호스트 기반 IDS(HIDS) : 로그분석과 프로세스 모니터링을 통한 침입을 탐지
    - 침입 방지시스템(IPS) : 방화벽과 침입 탐지시스템을 결합한 것
    - 데이터유출방지(DLP) : 내부 정보의 외부 유출을 방지하기 위한 보안 솔루션
    - 가상사설통신망(VPN) : 공중 네트워크에 사용자가 자신의 전용 회선을 사용하는 것처럼 해주는 보안 솔루션
    - NAC(Network Access Control) : 네트워크에 접속하는 내부 PC의 MAC주소를 IP관리 시스템에 등록한 후 일관된 보안관리 기능을 제공하는 보안 솔루션
    - 샌드박스 : 응용 프로그램이 실행될 때 가상 머신 안에서 실행되는 것처럼 원래의 운영체제와 완전히 독립되어 실행되는 형태
    - FDS : 이상 금융거래 차단 시스템
    - Proxy server : 클라이언트 대신에 인터넷상의 다른 서버에 접속하는 서버
6. 방화벽(Firewall)
   - DMZ 구간(Demilitarized zone) : 내부 네트워크에 포함되어 있으나 외부에서 접근할 수 있는 구간
     - 패킷 필터링 : 네트워크 계층/전송 계층, 다른 방화벽에 비해 속도가 빠름.
     - 애플리케이션 게이트웨이 : 응용계층, 로그에서 다양한 정보를 얻어 여러 기능을 추가할 수 있음.
     - 회선 게이트웨이 : 응용계층/세션계층
     - 상태 기반 패킷 검사 : OSI 모든 계층에서 패킷 분석. 가장 강력함.
     - 혼합형 타입
  - 방화벽 시스템 구축 유형  
    * 스크리닝 라우터 : IP, TCP, UDP의 헤더 부분에 포함된 내용만 분석하여 동작. 내부 네트워크와 외부 네트워크 사이의 패킷을 허용/거부하는 라우터
    * 베스천 호스트 : 내부 네트워크로 진입하기 전에 내부 네트워크를 전체적으로 보호. 로그생성 관리 용이
    * 듀얼 홈드 호스트: 두개의 인터페이스를 가진 베스천 호스트, 하나는 NIC 내부 네트워크 연결, 다른 NIC는 외부 네트워크와 연결
    * 스크린드 호스트: 패킷 필터 라우터, 베스천 호스트로 구성 / 네트워크계층,응용계층 2단계 방어로 안전함.
    * 스크린드 서브넷: 스크린트 호스트 보안점 해결, 두개의 스크리닝 라우터와 한개의 베스천 호스트로 구성
   
7. 보안 프로토콜
     - SSH : 원격 호스트에 접속하기 위해 사용되는 보안 프로토콜. 22번 포트 사용
     - SSL : 웹 브라우저와 웹 서버 간에 데이터를 안전하게 주고받기 위한 업계 표준 프로토콜. 443번 포트 사용 (https로 시작됨.)
     - TLS : 전송계층 개발, 데이터의 정보보호와 무결성을 제공하기 위해 만들어짐
     - IPSec : 네트워크 계층(인터넷 계층)에서 안전하게 보호하기 위한 기법
         * 동작모드 : 전송모드(페이로드만 보호) / 터널모드(패킷 전체 보호)
         * 프로토콜 : AH(무결성, 인증), ESP(기밀성, 무결성, 인증) , IKE(키교환에 사용)
     - S-HTTP : 웹상에서 파일들이 안전하게 교환될수 있도록 해주는 HTTP 확장판. 네트워크 트래픽 암호화
     - RedSec : **RADIUS** 데이터를 전송 제어 프로토콜이나 전송계층 보안을 이용하여 전송하기 위한 프로토콜
8. 고가용성(HA, High availability)
  -  서버와 네트워크, 프로그램 등의 정보 시스템이 오랜 기간 동안 지속적으로 정상 운영이 가능한 성실



9. DoS 공격 : 시스템이 정상적인 서비스를 할 수 없도록 가용성을 떨어트림
   - 스머프 어택: IP와 ICMP의 특성이용
   - 핑오브데스 : 규정크기 이상의 ICMP 패킷으로 시스템을 마비시킴
   - 랜드어택 : 출발지 IP와 목적지 IP가 같은 패킷을 만들어 보내는 공격
   - 티어드롭 : 재조합 할 수 있는 프래그먼트 넘버를 위조하는 공격
   - SYN Flooding  : TCP 연결과정의 취약점을 이용한 공격
   - UDP Flooding : 다량의 UDP 패킷을 전송해서 네트워크 자원고갈 공격
   - Ping Flooding : 특정 사이트에 매우 많은 ICMP Echo를 보내서 시스템 자원 모두 사용하게 하는 공격


10. DDos
      - exploit : 공격자의 의도된 명령/프로그램 등. 컴퓨터에 심어둠.
      - 트리누, TFN, 슈타첼드라트
   
11. 기타 해킹기법
      - 웜 : 네트워크를 통해 자신을 복제하고 전파할 수 있는 악성프로그램
      - 바이러스 : 파일, 부트, 메모리 영역에서 스스로 복사하는 악성 프로그램으로 파일 속에 옮겨다님
      - 트로이목마: 해를 끼치지 않을 것처럼 보이지만 실제로는 바이러스 등 위험인자 포함
      - 스턱스넷: 공항, 철도 등 기간시설 파괴 목적으로 제작된 컴퓨터 바이러스
      - 루팅 : 핸드폰 운영체제 루트 관리자 계정 획득
      - 루트킷 : 루트권한을 쉽게 얻게 해주는 킷
      - 혹스: 남을 속이거나 장난 친다는 뜻. 가짜 바이러스
      - 스니핑 : 지켜본다, 네트워크로 전송되는 패킷을 훔쳐보는 공격
      - IP Spoofing : 자신의 IP 주소를 속여서 접속
      - ARP Spoofing : 자신의 MAC주소를 다른 컴퓨터의 MAC인 것처럼 속여서 공격
      - DNS Spoofing : dns 서버로 보내는 질문을 가로채서 변조된 결과를 보내주는 것. 중간자 공격
      - 파밍 : 악성코드에 감염시켜 정상 홈페이지에 접속해도 피싱 사이트로 유도하는 피싱공격
      - 타이포스쿼팅: 사이트 url주소를 잘못 입력하는 것을 이용해서 유사한 URL로 접속하도록 유도
      - 스미싱: 문자 메세지 피싱
      - 큐싱: 큐알코드 이용
      - 포트 스캐닝: 서버에 열린 포트 확인 후 취약점 이용
      - 세션 하이재킹: 이미 인증받아 세션을 생성,유지하고 있는 연결을 뺏는 공격
      - 버퍼 오버플로우 : 넘치게 하는 공격(스택가드/스택쉴드/ASLR)
      - Format string attack : 출력포맷 애매할 때의 취약점 포착 > 공격
      - SQL injection : 클라이언트의 입력값을 조작해서 서버의 데이터베이스를 공격
      - XSS : 악의적인 사용자가 공격하려는 사이트에 스크립트를 넣는 기법
      - CSRF : 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위를 특정 웹사이트에 요청하게 하는 해킹공격
      - 백도어 : 정상적인 인증 절차를 거치지 않고 응용프로그램, 시스템에 접근할 수 있도록 만든 프로그램
      - 레인보우 테이블 : 해시함수를 사용해 만들어낼 수 있는 값을을 대량으로 저장한 테이블
      - APT : 지속적이고 지능적인 해킹 공격의 통칭
      - Nucking : 특정 아이피에 대량의 패킷을 보내 인터넷 점속을 끊음
      - 부채널 공격: 암호 알고리즘을 대상으로 한 물리적 공격 기법
      - Brute force : 무차별 대입공격
      - Dictionary accack : 많이 사용되는 날짜, 번호 패턴들을 사전형태로 만들고 조합해서 공격
      - Key logger attack : 키보드 움직임을 탐지해 개인정보 몰래 빼가는 해킹 공격
      - 스파이웨어: 사용자 동의 없이 사용자 정보를 수집하는 프로그램
      - 애드웨어: 광고
      - 트랙웨어: 시스템 작업 추적, 습관 추적, 다른 조직에 전달하는 소프트웨어 패키지
      - 그레이웨어: 일반 소프트웨어 ? 설치되면 사용자에게 불편을 주는 소프트웨어
      - 크라임웨어: 불법 온라인활동을 용이하게 함
      - 랜섬웨어 : 몸값 요구
      - 제로데이 공격: 취약점에 대한 패치가 나오지 않은 시점에서 이루어지는 공격
      - 사회공학: 사람들 간의 기본적인 신뢰를 기반으로 사람을 속여 비밀정보 획득
      - Evil twin attack : 사용자가 가짜 AP에 접속하게 해서 사용자 정보를 중간에서 가로챔
      - 블루버그 : 한번 연결되면 이후에는 다시 연결해주지 않다도 자동으로 연결되는 취약점 이용
      - 블루스나프 : 장비 파일에 접근
      - 블루 프린팅: 블루투스 공격장치 검색활동
      - 블루재킹: 익명세시지를 보낼 수 있는 해킹방법. 명함뿌리기.
      - Switch jamming: 스위치 MAC 주소 테이블의 저장기능을 혼란시켜 더미허브처럼 작동하게 함
      - 허니팟: 실제 공격당하는 것처럼 보여주면서 크래커 추적, 공격기법의 정보 수집
      - 블루킵: 원격 데스크톱 서비스를 인증없이 조작할 수 있는 취약점
      - 인포데믹스: 잘못된 정보나 소문이 빨리 확산되면서 대중의 두려움이 필요이상으로 증폭됨
      - 살라미: 금융기관에서 적은 금액을 조금씩 빼내감
      - 다크 데이터: 기업이 정보수집후 분석에 활용하고 있지 않은 다량의 데이터
      - 킬스위치 : 자폭기능
      - 트러스트존 : 중요한 정보를 보호하는 하드웨어 기반의 보안기술
      
